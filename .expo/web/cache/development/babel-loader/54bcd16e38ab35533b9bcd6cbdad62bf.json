{"ast":null,"code":"import _defineProperty from \"@babel/runtime/helpers/defineProperty\";\nimport _toConsumableArray from \"@babel/runtime/helpers/toConsumableArray\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\n\nimport React, { useEffect, useState } from 'react';\nimport FlatList from \"react-native-web/dist/exports/FlatList\";\nimport Modal from \"react-native-web/dist/exports/Modal\";\nimport Pressable from \"react-native-web/dist/exports/Pressable\";\nimport SafeAreaView from \"react-native-web/dist/exports/SafeAreaView\";\nimport ScrollView from \"react-native-web/dist/exports/ScrollView\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport View from \"react-native-web/dist/exports/View\";\nimport MaskInput, { Masks } from 'react-native-mask-input';\nimport { Button } from 'react-native-elements/dist/buttons/Button';\nimport Confirmacao from \"../modais/Confirmacao\";\nimport ErrorResgate from \"../modais/ErrorResgate\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nvar valorResgatar;\nexport default function ResgateInvestimento(_ref) {\n  var route = _ref.route,\n      navigation = _ref.navigation;\n\n  var _useState = useState(navigation.route.params.dado),\n      _useState2 = _slicedToArray(_useState, 2),\n      value = _useState2[0],\n      setValue = _useState2[1];\n\n  var _useState3 = useState([]),\n      _useState4 = _slicedToArray(_useState3, 2),\n      text = _useState4[0],\n      setText = _useState4[1];\n\n  var _useState5 = useState(0),\n      _useState6 = _slicedToArray(_useState5, 2),\n      valorSoma = _useState6[0],\n      setValorSoma = _useState6[1];\n\n  var _useState7 = useState(false),\n      _useState8 = _slicedToArray(_useState7, 2),\n      modalVisible = _useState8[0],\n      setModalVisible = _useState8[1];\n\n  var _useState9 = useState(false),\n      _useState10 = _slicedToArray(_useState9, 2),\n      modalVisibleErro = _useState10[0],\n      setModalVisibleErro = _useState10[1];\n\n  useEffect(function () {}, []);\n\n  function showModal() {\n    for (var x in text) {\n      var dado = text[x];\n\n      if (dado && dado.erro === true) {\n        setModalVisibleErro(true);\n        console.log('>>>>>');\n        return;\n      }\n    }\n\n    console.log(text);\n  }\n\n  function valorResgate(texto, dado, x) {\n    var formatar = texto.replace('R$', '').replace('.', '').replace(' ', '');\n    var formatarMoeda = formatar.replace(',', '.');\n    var soma = 0;\n\n    var array = _toConsumableArray(text);\n\n    y = x;\n    array[x] = _objectSpread(_objectSpread({}, dado), {}, {\n      valorResgatar: formatarMoeda,\n      erro: formatarMoeda > dado.percentual * value.saldoTotal / 100 ? true : false\n    });\n    setText(array);\n\n    for (var _x in array) {\n      if (array[_x]) {\n        soma += parseFloat(array[_x].valorResgatar);\n        console.log(\"s\", soma);\n        setValorSoma(soma);\n      } else {\n        console.log(\"e\", soma);\n        setValorSoma(soma);\n      }\n    }\n  }\n\n  return _jsxs(View, {\n    style: styles.container,\n    children: [_jsx(SafeAreaView, {\n      children: _jsxs(ScrollView, {\n        children: [_jsx(View, {\n          style: styles.header,\n          children: _jsx(Text, {\n            style: styles.texto,\n            children: \"Resgate\"\n          })\n        }), _jsx(View, {\n          children: _jsx(View, {\n            style: {\n              flexDirection: 'row',\n              justifyContent: 'space-between'\n            },\n            children: _jsx(Text, {\n              style: {\n                color: '#4B4B4B',\n                padding: 7,\n                margin: 7\n              },\n              children: \"DADOS DO INVESTIMENTO\"\n            })\n          })\n        }), _jsxs(View, {\n          style: styles.viewA,\n          children: [_jsx(Text, {\n            style: styles.viewB,\n            children: \"NOME\"\n          }), _jsx(Text, {\n            style: styles.textA,\n            children: value.nome\n          })]\n        }), _jsxs(View, {\n          style: styles.viewA,\n          children: [_jsx(Text, {\n            style: styles.viewB,\n            children: \"Saldo total dispon\\xEDvel\"\n          }), _jsx(Text, {\n            style: styles.textA,\n            children: value.saldoTotal.toLocaleString('pt-BR', {\n              style: 'currency',\n              currency: 'BRL'\n            })\n          })]\n        }), _jsx(View, {\n          style: {\n            flexDirection: 'row',\n            justifyContent: 'space-between'\n          },\n          children: _jsx(Text, {\n            style: {\n              color: '#4B4B4B',\n              padding: 7,\n              margin: 7\n            },\n            children: \"RESGATE DO SEU JEITO\"\n          })\n        }), value.acoes.map(function (dado, i) {\n          return _jsxs(View, {\n            children: [_jsxs(View, {\n              style: styles.viewA,\n              children: [_jsx(Text, {\n                style: styles.viewB,\n                children: \"A\\xE7\\xE3o\"\n              }), _jsx(Text, {\n                style: styles.textA,\n                children: dado.nome\n              })]\n            }), _jsxs(View, {\n              style: styles.viewA,\n              children: [_jsx(Text, {\n                style: styles.viewB,\n                children: \"Saldo acumulado\"\n              }), _jsx(Text, {\n                style: styles.textA,\n                children: (dado.percentual * value.saldoTotal / 100).toLocaleString('pt-BR', {\n                  style: 'currency',\n                  currency: 'BRL'\n                })\n              })]\n            }), _jsxs(View, {\n              style: {\n                backgroundColor: '#ffffff',\n                marginBottom: 2\n              },\n              children: [_jsx(MaskInput, {\n                style: {\n                  borderRadius: 0,\n                  backgroundColor: '#fff',\n                  color: '#1e72b0',\n                  height: 50,\n                  margin: 7,\n                  padding: 7\n                },\n                placeholder: \"Valor a resgatar\",\n                keyboardType: \"numeric\",\n                mask: Masks.BRL_CURRENCY,\n                value: text[i] && text[i].valorResgatar || '',\n                onChangeText: function onChangeText(texto) {\n                  return valorResgate(texto, dado, i);\n                }\n              }), text[i] && text[i].erro && _jsx(View, {\n                children: _jsxs(Text, {\n                  style: {\n                    color: 'red'\n                  },\n                  children: [\"Valor n\\xE3o pode ser maior que \", (dado.percentual * value.saldoTotal / 100).toLocaleString('pt-br', {\n                    style: 'currency',\n                    currency: 'BRL'\n                  })]\n                })\n              })]\n            })]\n          }, i);\n        }), _jsxs(View, {\n          style: {\n            height: 50,\n            flexDirection: 'row',\n            justifyContent: 'space-between',\n            backgroundColor: '#ffffff'\n          },\n          children: [_jsx(Text, {\n            style: styles.viewB,\n            children: \"Valor total a resgatar\"\n          }), _jsx(Text, {\n            style: styles.textA,\n            children: valorSoma.toLocaleString('pt-br', {\n              style: 'currency',\n              currency: 'BRL'\n            })\n          })]\n        }), _jsx(Button, {\n          buttonStyle: {\n            backgroundColor: '#FFF003',\n            color: '1e72b0',\n            fontWeight: 'bold'\n          },\n          color: \"1e72b0\",\n          titleStyle: {\n            color: '#1e72b0',\n            fontWeight: 'bold'\n          },\n          title: \"Confirmar resgate\",\n          onPress: showModal\n        })]\n      })\n    }), _jsx(Modal, {\n      transparent: true,\n      animationType: \"slide\",\n      visible: modalVisible,\n      children: _jsx(Confirmacao, {})\n    }), _jsx(Modal, {\n      transparent: true,\n      animationType: \"slide\",\n      visible: modalVisibleErro,\n      children: _jsx(ErrorResgate, {\n        dado: {\n          text: text,\n          value: value\n        }\n      })\n    })]\n  });\n}\nvar styles = StyleSheet.create({\n  container: {\n    backgroundColor: \"#eaeaea\",\n    flex: 1,\n    padding: 0,\n    paddingHorizontal: 0,\n    width: '100%'\n  },\n  header: {\n    margin: 0,\n    backgroundColor: '#1e72b0',\n    top: 0,\n    height: 120,\n    width: '100%',\n    borderBottomWidth: 8,\n    borderBottomColor: '#Fdfa5e'\n  },\n  texto: {\n    color: '#fff',\n    textAlign: 'center',\n    marginTop: 60,\n    fontSize: 25,\n    fontWeight: 'bold'\n  },\n  viewA: {\n    height: 50,\n    flexDirection: 'row',\n    justifyContent: 'space-between',\n    backgroundColor: '#ffffff',\n    marginBottom: 1,\n    borderBottomWidth: 1,\n    borderBottomColor: '#eaeaea'\n  },\n  viewB: {\n    color: '#000000',\n    padding: 7,\n    margin: 7,\n    fontWeight: 'bold',\n    fontSize: 17\n  },\n  textA: {\n    color: '#7B7A7A',\n    padding: 7,\n    margin: 7,\n    fontWeight: 'bold'\n  },\n  centeredView: {\n    flex: 1,\n    justifyContent: \"center\",\n    alignItems: \"center\",\n    marginTop: 22\n  },\n  modalView: {\n    margin: 20,\n    backgroundColor: \"white\",\n    alignItems: \"center\",\n    shadowColor: \"#000\",\n    shadowOffset: {\n      width: 0,\n      height: 2\n    },\n    shadowOpacity: 0.25,\n    shadowRadius: 4,\n    elevation: 5\n  },\n  button: {\n    borderRadius: 0,\n    padding: 10,\n    elevation: 2\n  },\n  buttonOpen: {\n    justifyContent: \"center\",\n    alignItems: \"center\",\n    backgroundColor: \"#FFF003\",\n    margin: 100,\n    top: 100,\n    height: 50,\n    fontWeight: 'bold'\n  },\n  buttonClose: {\n    margin: 80,\n    width: 300\n  },\n  textStyle: {\n    color: \"white\",\n    fontWeight: \"bold\",\n    textAlign: \"center\"\n  },\n  modalText: {},\n  modalA: {\n    justifyContent: \"center\",\n    alignItems: \"center\",\n    marginTop: 22\n  }\n});","map":{"version":3,"sources":["/home/rafadesk/Documentos/Mateus/git/desafio/src/pages/ResgateInvestimento.js"],"names":["React","useEffect","useState","MaskInput","Masks","Button","Confirmacao","ErrorResgate","valorResgatar","ResgateInvestimento","route","navigation","params","dado","value","setValue","text","setText","valorSoma","setValorSoma","modalVisible","setModalVisible","modalVisibleErro","setModalVisibleErro","showModal","x","erro","console","log","valorResgate","texto","formatar","replace","formatarMoeda","soma","array","y","percentual","saldoTotal","parseFloat","styles","container","header","flexDirection","justifyContent","color","padding","margin","viewA","viewB","textA","nome","toLocaleString","style","currency","acoes","map","i","backgroundColor","marginBottom","borderRadius","height","BRL_CURRENCY","fontWeight","StyleSheet","create","flex","paddingHorizontal","width","top","borderBottomWidth","borderBottomColor","textAlign","marginTop","fontSize","centeredView","alignItems","modalView","shadowColor","shadowOffset","shadowOpacity","shadowRadius","elevation","button","buttonOpen","buttonClose","textStyle","modalText","modalA"],"mappings":";;;;;;;;AAAA,OAAOA,KAAP,IAAgBC,SAAhB,EAA2BC,QAA3B,QAA2C,OAA3C;;;;;;;;;AAGA,OAAOC,SAAP,IAAoBC,KAApB,QAAiC,yBAAjC;AACA,SAASC,MAAT,QAAuB,2CAAvB;AACA,OAAOC,WAAP;AACA,OAAOC,YAAP;;;AACA,IAAIC,aAAJ;AACA,eAAe,SAASC,mBAAT,OAAoD;AAAA,MAArBC,KAAqB,QAArBA,KAAqB;AAAA,MAAdC,UAAc,QAAdA,UAAc;;AAC/D,kBAA0BT,QAAQ,CAACS,UAAU,CAACD,KAAX,CAAiBE,MAAjB,CAAwBC,IAAzB,CAAlC;AAAA;AAAA,MAAOC,KAAP;AAAA,MAAcC,QAAd;;AACA,mBAAwBb,QAAQ,CAAC,EAAD,CAAhC;AAAA;AAAA,MAAOc,IAAP;AAAA,MAAaC,OAAb;;AACA,mBAAkCf,QAAQ,CAAC,CAAD,CAA1C;AAAA;AAAA,MAAOgB,SAAP;AAAA,MAAkBC,YAAlB;;AACA,mBAAwCjB,QAAQ,CAAC,KAAD,CAAhD;AAAA;AAAA,MAAOkB,YAAP;AAAA,MAAqBC,eAArB;;AACA,mBAAgDnB,QAAQ,CAAC,KAAD,CAAxD;AAAA;AAAA,MAAOoB,gBAAP;AAAA,MAAyBC,mBAAzB;;AAEAtB,EAAAA,SAAS,CAAC,YAAM,CACf,CADQ,EACN,EADM,CAAT;;AAIA,WAASuB,SAAT,GAAqB;AAGjB,SAAK,IAAIC,CAAT,IAAcT,IAAd,EAAoB;AAChB,UAAMH,IAAI,GAAGG,IAAI,CAACS,CAAD,CAAjB;;AACA,UAAGZ,IAAI,IAAIA,IAAI,CAACa,IAAL,KAAc,IAAzB,EAA8B;AAC1BH,QAAAA,mBAAmB,CAAC,IAAD,CAAnB;AACAI,QAAAA,OAAO,CAACC,GAAR,CAAY,OAAZ;AACA;AACH;AACJ;;AACDD,IAAAA,OAAO,CAACC,GAAR,CAAYZ,IAAZ;AASH;;AAMD,WAASa,YAAT,CAAsBC,KAAtB,EAA6BjB,IAA7B,EAAmCY,CAAnC,EAAsC;AAClC,QAAIM,QAAQ,GAAGD,KAAK,CAACE,OAAN,CAAc,IAAd,EAAoB,EAApB,EAAwBA,OAAxB,CAAgC,GAAhC,EAAqC,EAArC,EAAyCA,OAAzC,CAAiD,GAAjD,EAAsD,EAAtD,CAAf;AACA,QAAIC,aAAa,GAAGF,QAAQ,CAACC,OAAT,CAAiB,GAAjB,EAAsB,GAAtB,CAApB;AACA,QAAIE,IAAI,GAAG,CAAX;;AACA,QAAMC,KAAK,sBAAOnB,IAAP,CAAX;;AACAoB,IAAAA,CAAC,GAAGX,CAAJ;AACAU,IAAAA,KAAK,CAACV,CAAD,CAAL,mCACOZ,IADP;AAEIL,MAAAA,aAAa,EAAEyB,aAFnB;AAGIP,MAAAA,IAAI,EAAEO,aAAa,GAAIpB,IAAI,CAACwB,UAAL,GAAkBvB,KAAK,CAACwB,UAAxB,GAAqC,GAAtD,GAA6D,IAA7D,GAAoE;AAH9E;AAKArB,IAAAA,OAAO,CAACkB,KAAD,CAAP;;AAMA,SAAK,IAAIV,EAAT,IAAcU,KAAd,EAAqB;AAEjB,UAAIA,KAAK,CAACV,EAAD,CAAT,EAAc;AACVS,QAAAA,IAAI,IAAIK,UAAU,CAACJ,KAAK,CAACV,EAAD,CAAL,CAASjB,aAAV,CAAlB;AACAmB,QAAAA,OAAO,CAACC,GAAR,CAAY,GAAZ,EAAiBM,IAAjB;AACAf,QAAAA,YAAY,CAACe,IAAD,CAAZ;AACH,OAJD,MAIO;AACHP,QAAAA,OAAO,CAACC,GAAR,CAAY,GAAZ,EAAiBM,IAAjB;AAEAf,QAAAA,YAAY,CAACe,IAAD,CAAZ;AAEH;AAEJ;AAEJ;;AACD,SACI,MAAC,IAAD;AAAM,IAAA,KAAK,EAAEM,MAAM,CAACC,SAApB;AAAA,eACI,KAAC,YAAD;AAAA,gBACI,MAAC,UAAD;AAAA,mBACI,KAAC,IAAD;AAAM,UAAA,KAAK,EAAED,MAAM,CAACE,MAApB;AAAA,oBACI,KAAC,IAAD;AAAM,YAAA,KAAK,EAAEF,MAAM,CAACV,KAApB;AAAA;AAAA;AADJ,UADJ,EAII,KAAC,IAAD;AAAA,oBACI,KAAC,IAAD;AAAM,YAAA,KAAK,EAAE;AACTa,cAAAA,aAAa,EAAE,KADN;AAETC,cAAAA,cAAc,EAAE;AAFP,aAAb;AAAA,sBAII,KAAC,IAAD;AAAM,cAAA,KAAK,EAAE;AAAEC,gBAAAA,KAAK,EAAE,SAAT;AAAoBC,gBAAAA,OAAO,EAAE,CAA7B;AAAgCC,gBAAAA,MAAM,EAAE;AAAxC,eAAb;AAAA;AAAA;AAJJ;AADJ,UAJJ,EAaI,MAAC,IAAD;AAAM,UAAA,KAAK,EAAEP,MAAM,CAACQ,KAApB;AAAA,qBACI,KAAC,IAAD;AAAM,YAAA,KAAK,EAAER,MAAM,CAACS,KAApB;AAAA;AAAA,YADJ,EAEI,KAAC,IAAD;AAAM,YAAA,KAAK,EAAET,MAAM,CAACU,KAApB;AAAA,sBAA4BpC,KAAK,CAACqC;AAAlC,YAFJ;AAAA,UAbJ,EAiBI,MAAC,IAAD;AACI,UAAA,KAAK,EAAEX,MAAM,CAACQ,KADlB;AAAA,qBAGI,KAAC,IAAD;AAAM,YAAA,KAAK,EAAER,MAAM,CAACS,KAApB;AAAA;AAAA,YAHJ,EAII,KAAC,IAAD;AAAM,YAAA,KAAK,EAAET,MAAM,CAACU,KAApB;AAAA,sBAA4BpC,KAAK,CAACwB,UAAN,CAAiBc,cAAjB,CAAgC,OAAhC,EAAyC;AAAEC,cAAAA,KAAK,EAAE,UAAT;AAAqBC,cAAAA,QAAQ,EAAE;AAA/B,aAAzC;AAA5B,YAJJ;AAAA,UAjBJ,EAuBI,KAAC,IAAD;AAAM,UAAA,KAAK,EAAE;AACTX,YAAAA,aAAa,EAAE,KADN;AAETC,YAAAA,cAAc,EAAE;AAFP,WAAb;AAAA,oBAII,KAAC,IAAD;AAAM,YAAA,KAAK,EAAE;AAAEC,cAAAA,KAAK,EAAE,SAAT;AAAoBC,cAAAA,OAAO,EAAE,CAA7B;AAAgCC,cAAAA,MAAM,EAAE;AAAxC,aAAb;AAAA;AAAA;AAJJ,UAvBJ,EA8BKjC,KAAK,CAACyC,KAAN,CAAYC,GAAZ,CAAgB,UAAC3C,IAAD,EAAO4C,CAAP;AAAA,iBACb,MAAC,IAAD;AAAA,uBAII,MAAC,IAAD;AAAM,cAAA,KAAK,EAAEjB,MAAM,CAACQ,KAApB;AAAA,yBACI,KAAC,IAAD;AAAM,gBAAA,KAAK,EAAER,MAAM,CAACS,KAApB;AAAA;AAAA,gBADJ,EAEI,KAAC,IAAD;AAAM,gBAAA,KAAK,EAAET,MAAM,CAACU,KAApB;AAAA,0BAA4BrC,IAAI,CAACsC;AAAjC,gBAFJ;AAAA,cAJJ,EASI,MAAC,IAAD;AAAM,cAAA,KAAK,EAAEX,MAAM,CAACQ,KAApB;AAAA,yBACI,KAAC,IAAD;AAAM,gBAAA,KAAK,EAAER,MAAM,CAACS,KAApB;AAAA;AAAA,gBADJ,EAEI,KAAC,IAAD;AAAM,gBAAA,KAAK,EAAET,MAAM,CAACU,KAApB;AAAA,0BAA4B,CAACrC,IAAI,CAACwB,UAAL,GAAkBvB,KAAK,CAACwB,UAAxB,GAAqC,GAAtC,EAA2Cc,cAA3C,CAA0D,OAA1D,EAAmE;AAAEC,kBAAAA,KAAK,EAAE,UAAT;AAAqBC,kBAAAA,QAAQ,EAAE;AAA/B,iBAAnE;AAA5B,gBAFJ;AAAA,cATJ,EAaI,MAAC,IAAD;AACI,cAAA,KAAK,EAAE;AACHI,gBAAAA,eAAe,EAAE,SADd;AAEHC,gBAAAA,YAAY,EAAE;AAFX,eADX;AAAA,yBAoBI,KAAC,SAAD;AACI,gBAAA,KAAK,EAAE;AACHC,kBAAAA,YAAY,EAAE,CADX;AAEHF,kBAAAA,eAAe,EAAE,MAFd;AAGHb,kBAAAA,KAAK,EAAE,SAHJ;AAIHgB,kBAAAA,MAAM,EAAE,EAJL;AAKHd,kBAAAA,MAAM,EAAE,CALL;AAMHD,kBAAAA,OAAO,EAAE;AANN,iBADX;AASI,gBAAA,WAAW,EAAC,kBAThB;AAUI,gBAAA,YAAY,EAAC,SAVjB;AAWI,gBAAA,IAAI,EAAE1C,KAAK,CAAC0D,YAXhB;AAaI,gBAAA,KAAK,EAAE9C,IAAI,CAACyC,CAAD,CAAJ,IAAWzC,IAAI,CAACyC,CAAD,CAAJ,CAAQjD,aAAnB,IAAoC,EAb/C;AAeI,gBAAA,YAAY,EAAE,sBAACsB,KAAD;AAAA,yBAAWD,YAAY,CAACC,KAAD,EAAQjB,IAAR,EAAc4C,CAAd,CAAvB;AAAA;AAflB,gBApBJ,EAsCKzC,IAAI,CAACyC,CAAD,CAAJ,IAAWzC,IAAI,CAACyC,CAAD,CAAJ,CAAQ/B,IAAnB,IACG,KAAC,IAAD;AAAA,0BACI,MAAC,IAAD;AAAM,kBAAA,KAAK,EAAE;AAAEmB,oBAAAA,KAAK,EAAE;AAAT,mBAAb;AAAA,iEAA6D,CAAChC,IAAI,CAACwB,UAAL,GAAkBvB,KAAK,CAACwB,UAAxB,GAAqC,GAAtC,EAA2Cc,cAA3C,CAA0D,OAA1D,EAAmE;AAAEC,oBAAAA,KAAK,EAAE,UAAT;AAAqBC,oBAAAA,QAAQ,EAAE;AAA/B,mBAAnE,CAA7D;AAAA;AADJ,gBAvCR;AAAA,cAbJ;AAAA,aACSG,CADT,CADa;AAAA,SAAhB,CA9BL,EA2FI,MAAC,IAAD;AAAM,UAAA,KAAK,EAAE;AACTI,YAAAA,MAAM,EAAE,EADC;AAETlB,YAAAA,aAAa,EAAE,KAFN;AAGTC,YAAAA,cAAc,EAAE,eAHP;AAITc,YAAAA,eAAe,EAAE;AAJR,WAAb;AAAA,qBAMI,KAAC,IAAD;AAAM,YAAA,KAAK,EAAElB,MAAM,CAACS,KAApB;AAAA;AAAA,YANJ,EAOI,KAAC,IAAD;AAAM,YAAA,KAAK,EAAET,MAAM,CAACU,KAApB;AAAA,sBAA4BhC,SAAS,CAACkC,cAAV,CAAyB,OAAzB,EAAkC;AAAEC,cAAAA,KAAK,EAAE,UAAT;AAAqBC,cAAAA,QAAQ,EAAE;AAA/B,aAAlC;AAA5B,YAPJ;AAAA,UA3FJ,EAoGI,KAAC,MAAD;AACI,UAAA,WAAW,EAAE;AAAEI,YAAAA,eAAe,EAAE,SAAnB;AAA8Bb,YAAAA,KAAK,EAAE,QAArC;AAA+CkB,YAAAA,UAAU,EAAE;AAA3D,WADjB;AAEI,UAAA,KAAK,EAAC,QAFV;AAGI,UAAA,UAAU,EAAE;AACRlB,YAAAA,KAAK,EAAE,SADC;AAERkB,YAAAA,UAAU,EAAE;AAFJ,WAHhB;AAOI,UAAA,KAAK,EAAC,mBAPV;AAQI,UAAA,OAAO,EAAEvC;AARb,UApGJ;AAAA;AADJ,MADJ,EAsHI,KAAC,KAAD;AAAO,MAAA,WAAW,EAAE,IAApB;AAA0B,MAAA,aAAa,EAAC,OAAxC;AAAgD,MAAA,OAAO,EAAEJ,YAAzD;AAAA,gBAAwE,KAAC,WAAD;AAAxE,MAtHJ,EAwHI,KAAC,KAAD;AAAO,MAAA,WAAW,EAAE,IAApB;AAA0B,MAAA,aAAa,EAAC,OAAxC;AAAgD,MAAA,OAAO,EAAEE,gBAAzD;AAAA,gBAA4E,KAAC,YAAD;AAAc,QAAA,IAAI,EAAE;AAACN,UAAAA,IAAI,EAAJA,IAAD;AAAQF,UAAAA,KAAK,EAALA;AAAR;AAApB;AAA5E,MAxHJ;AAAA,IADJ;AA4HH;AAED,IAAM0B,MAAM,GAAGwB,UAAU,CAACC,MAAX,CAAkB;AAC7BxB,EAAAA,SAAS,EAAE;AACPiB,IAAAA,eAAe,EAAE,SADV;AAEPQ,IAAAA,IAAI,EAAE,CAFC;AAGPpB,IAAAA,OAAO,EAAE,CAHF;AAIPqB,IAAAA,iBAAiB,EAAE,CAJZ;AAKPC,IAAAA,KAAK,EAAE;AALA,GADkB;AAQ7B1B,EAAAA,MAAM,EAAE;AACJK,IAAAA,MAAM,EAAE,CADJ;AAIJW,IAAAA,eAAe,EAAE,SAJb;AAKJW,IAAAA,GAAG,EAAE,CALD;AAMJR,IAAAA,MAAM,EAAE,GANJ;AAOJO,IAAAA,KAAK,EAAE,MAPH;AAQJE,IAAAA,iBAAiB,EAAE,CARf;AASJC,IAAAA,iBAAiB,EAAE;AATf,GARqB;AAmB7BzC,EAAAA,KAAK,EAAE;AACHe,IAAAA,KAAK,EAAE,MADJ;AAEH2B,IAAAA,SAAS,EAAE,QAFR;AAGHC,IAAAA,SAAS,EAAE,EAHR;AAIHC,IAAAA,QAAQ,EAAE,EAJP;AAKHX,IAAAA,UAAU,EAAE;AALT,GAnBsB;AA0B7Bf,EAAAA,KAAK,EAAE;AACHa,IAAAA,MAAM,EAAE,EADL;AAEHlB,IAAAA,aAAa,EAAE,KAFZ;AAGHC,IAAAA,cAAc,EAAE,eAHb;AAIHc,IAAAA,eAAe,EAAE,SAJd;AAKHC,IAAAA,YAAY,EAAE,CALX;AAMHW,IAAAA,iBAAiB,EAAE,CANhB;AAOHC,IAAAA,iBAAiB,EAAE;AAPhB,GA1BsB;AAmC7BtB,EAAAA,KAAK,EAAE;AACHJ,IAAAA,KAAK,EAAE,SADJ;AAEHC,IAAAA,OAAO,EAAE,CAFN;AAGHC,IAAAA,MAAM,EAAE,CAHL;AAIHgB,IAAAA,UAAU,EAAE,MAJT;AAKHW,IAAAA,QAAQ,EAAE;AALP,GAnCsB;AA0C7BxB,EAAAA,KAAK,EAAE;AACHL,IAAAA,KAAK,EAAE,SADJ;AAEHC,IAAAA,OAAO,EAAE,CAFN;AAGHC,IAAAA,MAAM,EAAE,CAHL;AAIHgB,IAAAA,UAAU,EAAE;AAJT,GA1CsB;AAgD7BY,EAAAA,YAAY,EAAE;AACVT,IAAAA,IAAI,EAAE,CADI;AAEVtB,IAAAA,cAAc,EAAE,QAFN;AAGVgC,IAAAA,UAAU,EAAE,QAHF;AAIVH,IAAAA,SAAS,EAAE;AAJD,GAhDe;AAuD7BI,EAAAA,SAAS,EAAE;AACP9B,IAAAA,MAAM,EAAE,EADD;AAEPW,IAAAA,eAAe,EAAE,OAFV;AAIPkB,IAAAA,UAAU,EAAE,QAJL;AAKPE,IAAAA,WAAW,EAAE,MALN;AAMPC,IAAAA,YAAY,EAAE;AACVX,MAAAA,KAAK,EAAE,CADG;AAEVP,MAAAA,MAAM,EAAE;AAFE,KANP;AAUPmB,IAAAA,aAAa,EAAE,IAVR;AAWPC,IAAAA,YAAY,EAAE,CAXP;AAYPC,IAAAA,SAAS,EAAE;AAZJ,GAvDkB;AAuE7BC,EAAAA,MAAM,EAAE;AACJvB,IAAAA,YAAY,EAAE,CADV;AAEJd,IAAAA,OAAO,EAAE,EAFL;AAGJoC,IAAAA,SAAS,EAAE;AAHP,GAvEqB;AA4E7BE,EAAAA,UAAU,EAAE;AACRxC,IAAAA,cAAc,EAAE,QADR;AAERgC,IAAAA,UAAU,EAAE,QAFJ;AAGRlB,IAAAA,eAAe,EAAE,SAHT;AAIRX,IAAAA,MAAM,EAAE,GAJA;AAKRsB,IAAAA,GAAG,EAAE,GALG;AAMRR,IAAAA,MAAM,EAAE,EANA;AAORE,IAAAA,UAAU,EAAE;AAPJ,GA5EiB;AAqF7BsB,EAAAA,WAAW,EAAE;AAGTtC,IAAAA,MAAM,EAAE,EAHC;AAITqB,IAAAA,KAAK,EAAE;AAJE,GArFgB;AA2F7BkB,EAAAA,SAAS,EAAE;AACPzC,IAAAA,KAAK,EAAE,OADA;AAEPkB,IAAAA,UAAU,EAAE,MAFL;AAGPS,IAAAA,SAAS,EAAE;AAHJ,GA3FkB;AAgG7Be,EAAAA,SAAS,EAAE,EAhGkB;AAsG7BC,EAAAA,MAAM,EAAE;AACJ5C,IAAAA,cAAc,EAAE,QADZ;AAEJgC,IAAAA,UAAU,EAAE,QAFR;AAGJH,IAAAA,SAAS,EAAE;AAHP;AAtGqB,CAAlB,CAAf","sourcesContent":["import React, { useEffect, useState } from 'react';\nimport { FlatList, Modal, Pressable, SafeAreaView, ScrollView, StyleSheet, Text, View } from 'react-native';\n// import { TextInput } from 'react-native-paper';\nimport MaskInput, { Masks } from 'react-native-mask-input';\nimport { Button } from 'react-native-elements/dist/buttons/Button';\nimport Confirmacao from '../modais/Confirmacao';\nimport ErrorResgate from '../modais/ErrorResgate'\nvar valorResgatar\nexport default function ResgateInvestimento({ route, navigation }) {\n    const [value, setValue] = useState(navigation.route.params.dado);\n    const [text, setText] = useState([]);\n    const [valorSoma, setValorSoma] = useState(0);\n    const [modalVisible, setModalVisible] = useState(false);\n    const [modalVisibleErro, setModalVisibleErro] = useState(false);\n    // const { itemId, otherParam } = route.params;\n    useEffect(() => {\n    }, []);\n    \n\n    function showModal() {\n        // console.log(text)\n        // setModalVisible(true)\n        for (let x in text) {\n            const dado = text[x]\n            if(dado && dado.erro === true){\n                setModalVisibleErro(true)\n                console.log('>>>>>')\n                return;\n            }\n        }\n        console.log(text)\n        // if (valorResgatar === '') {\n        //     alert('Selecione um valor valido.')\n        //     return;\n        // } else {\n        //     setModalVisible(true)\n        // }\n\n\n    }\n\n\n\n\n\n    function valorResgate(texto, dado, x) {\n        let formatar = texto.replace('R$', '').replace('.', '').replace(' ', '');\n        let formatarMoeda = formatar.replace(',', '.')\n        let soma = 0;\n        const array = [...text];\n        y = x\n        array[x] = {\n            ...dado,\n            valorResgatar: formatarMoeda,\n            erro: formatarMoeda > (dado.percentual * value.saldoTotal / 100) ? true : false\n        }\n        setText(array)\n        // console.log(array)\n        // for (let y in array[x]) {\n        //     if (array[y].valorResgatar){\n        //     soma += parseFloat(array[y].valorResgatar);\n        // }\n        for (let x in array) {\n\n            if (array[x]) {\n                soma += parseFloat(array[x].valorResgatar);\n                console.log(\"s\", soma)\n                setValorSoma(soma)\n            } else {\n                console.log(\"e\", soma)\n                // soma += parseFloat(array[x].valorResgatar);\n                setValorSoma(soma)\n\n            }\n\n        }\n        // }\n    }\n    return (\n        <View style={styles.container}>\n            <SafeAreaView >\n                <ScrollView >\n                    <View style={styles.header}>\n                        <Text style={styles.texto}>Resgate</Text>\n                    </View>\n                    <View>\n                        <View style={{\n                            flexDirection: 'row',\n                            justifyContent: 'space-between',\n                        }}>\n                            <Text style={{ color: '#4B4B4B', padding: 7, margin: 7 }}>DADOS DO INVESTIMENTO</Text>\n                        </View>\n                    </View>\n\n                    <View style={styles.viewA}>\n                        <Text style={styles.viewB}>NOME</Text>\n                        <Text style={styles.textA}>{value.nome}</Text>\n                    </View>\n                    <View\n                        style={styles.viewA}\n                    >\n                        <Text style={styles.viewB}>Saldo total disponível</Text>\n                        <Text style={styles.textA}>{value.saldoTotal.toLocaleString('pt-BR', { style: 'currency', currency: 'BRL' })}</Text>\n                    </View>\n                    <View style={{\n                        flexDirection: 'row',\n                        justifyContent: 'space-between',\n                    }}>\n                        <Text style={{ color: '#4B4B4B', padding: 7, margin: 7 }}>RESGATE DO SEU JEITO</Text>\n                    </View>\n\n                    {value.acoes.map((dado, i) =>\n                        <View\n                            key={i}\n\n                        >\n                            <View style={styles.viewA}>\n                                <Text style={styles.viewB}>Ação</Text>\n                                <Text style={styles.textA}>{dado.nome}</Text>\n                            </View>\n\n                            <View style={styles.viewA}>\n                                <Text style={styles.viewB}>Saldo acumulado</Text>\n                                <Text style={styles.textA}>{(dado.percentual * value.saldoTotal / 100).toLocaleString('pt-BR', { style: 'currency', currency: 'BRL' })}</Text>\n                            </View>\n                            <View\n                                style={{\n                                    backgroundColor: '#ffffff',\n                                    marginBottom: 2\n                                }}\n                            >\n                                {/* <MaskInput\n                                    style={{\n                                        borderRadius: 0,\n                                        backgroundColor: '#fff',\n                                        color: '#1e72b0',\n                                        height: 50\n                                    }}\n                                    label=\"Valor a Resgatar\"\n                                    value={text}\n                                    onChangeText={text => setText(text)}\n                                    keyboardType='numeric'\n                                    onBlur={() => console.log(\"focus lost\") }\n                                /> */}\n\n                                <MaskInput\n                                    style={{\n                                        borderRadius: 0,\n                                        backgroundColor: '#fff',\n                                        color: '#1e72b0',\n                                        height: 50,\n                                        margin: 7,\n                                        padding: 7\n                                    }}\n                                    placeholder='Valor a resgatar'\n                                    keyboardType=\"numeric\"\n                                    mask={Masks.BRL_CURRENCY}\n                                    // value={resgate[item.id] && resgate[item.id].valorResgatar || ''}\n                                    value={text[i] && text[i].valorResgatar || ''}\n\n                                    onChangeText={(texto) => valorResgate(texto, dado, i)}\n\n                                />\n                                {text[i] && text[i].erro &&\n                                    <View >\n                                        <Text style={{ color: 'red' }}>Valor não pode ser maior que {(dado.percentual * value.saldoTotal / 100).toLocaleString('pt-br', { style: 'currency', currency: 'BRL' })}</Text>\n                                    </View>\n                                }\n                            </View>\n                        </View>\n\n                    )}\n                    <View style={{\n                        height: 50,\n                        flexDirection: 'row',\n                        justifyContent: 'space-between',\n                        backgroundColor: '#ffffff',\n                    }}>\n                        <Text style={styles.viewB}>Valor total a resgatar</Text>\n                        <Text style={styles.textA}>{valorSoma.toLocaleString('pt-br', { style: 'currency', currency: 'BRL' })}</Text>\n                    </View>\n                    <Button\n                        buttonStyle={{ backgroundColor: '#FFF003', color: '1e72b0', fontWeight: 'bold' }}\n                        color=\"1e72b0\"\n                        titleStyle={{\n                            color: '#1e72b0',\n                            fontWeight: 'bold'\n                        }}\n                        title=\"Confirmar resgate\"\n                        onPress={showModal}\n                    // onPress={storingDomain}modalVisible\n                    />\n\n\n                </ScrollView>\n            </SafeAreaView>\n\n            <Modal transparent={true} animationType='slide' visible={modalVisible}>{<Confirmacao />}</Modal>\n\n            <Modal transparent={true} animationType='slide' visible={modalVisibleErro}>{<ErrorResgate dado={{text , value}}  />}</Modal>\n        </View>\n    );\n}\n\nconst styles = StyleSheet.create({\n    container: {\n        backgroundColor: \"#eaeaea\",\n        flex: 1,\n        padding: 0,\n        paddingHorizontal: 0,\n        width: '100%',\n    },\n    header: {\n        margin: 0,\n        // position: 'absolute',\n        // overflow: 'hidden',\n        backgroundColor: '#1e72b0',\n        top: 0,\n        height: 120,\n        width: '100%',\n        borderBottomWidth: 8,\n        borderBottomColor: '#Fdfa5e'\n    },\n    texto: {\n        color: '#fff',\n        textAlign: 'center',\n        marginTop: 60,\n        fontSize: 25,\n        fontWeight: 'bold'\n    },\n    viewA: {\n        height: 50,\n        flexDirection: 'row',\n        justifyContent: 'space-between',\n        backgroundColor: '#ffffff',\n        marginBottom: 1,\n        borderBottomWidth: 1,\n        borderBottomColor: '#eaeaea'\n    },\n    viewB: {\n        color: '#000000',\n        padding: 7,\n        margin: 7,\n        fontWeight: 'bold',\n        fontSize: 17\n    },\n    textA: {\n        color: '#7B7A7A',\n        padding: 7,\n        margin: 7,\n        fontWeight: 'bold'\n    },\n    centeredView: {\n        flex: 1,\n        justifyContent: \"center\",\n        alignItems: \"center\",\n        marginTop: 22,\n\n    },\n    modalView: {\n        margin: 20,\n        backgroundColor: \"white\",\n        // padding: 35,\n        alignItems: \"center\",\n        shadowColor: \"#000\",\n        shadowOffset: {\n            width: 0,\n            height: 2\n        },\n        shadowOpacity: 0.25,\n        shadowRadius: 4,\n        elevation: 5,\n        // height: 150,\n        // width: 300,\n    },\n    button: {\n        borderRadius: 0,\n        padding: 10,\n        elevation: 2\n    },\n    buttonOpen: {\n        justifyContent: \"center\",\n        alignItems: \"center\",\n        backgroundColor: \"#FFF003\",\n        margin: 100,\n        top: 100,\n        height: 50,\n        fontWeight: 'bold'\n    },\n    buttonClose: {\n        // backgroundColor: \"#2196F3\",\n        // height: 300,\n        margin: 80,\n        width: 300,\n    },\n    textStyle: {\n        color: \"white\",\n        fontWeight: \"bold\",\n        textAlign: \"center\"\n    },\n    modalText: {\n        // marginBottom: 213,\n        // height: 120,\n        // width: 120,\n        // textAlign: \"center\"\n    },\n    modalA: {\n        justifyContent: \"center\",\n        alignItems: \"center\",\n        marginTop: 22,\n    }\n\n});\n"]},"metadata":{},"sourceType":"module"}